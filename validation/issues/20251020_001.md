# Issue Report: BGG Endpoint Not Accessible via Main API

## Issue ID
20251020_001

## Checklist Item
B-01: Enter valid BGG ID/URL in UI

## Description
The BGG endpoint is not accessible via the main API. While the BGG functionality works correctly at the module level, the endpoint is not mounted in the main API file, preventing testing through the standard API interface.

## Steps to Reproduce
1. Attempt to access the BGG endpoint via the main API
2. Try to POST to `/api/bgg` with a valid BGG ID
3. Observe that the endpoint is not found

## Expected Behavior
The BGG endpoint should be accessible at `/api/bgg` and should accept POST requests with BGG ID/URL data.

## Actual Behavior
The endpoint returns a 404 Not Found error because it's not mounted in the main API.

## Environment
- OS: Windows 11
- Mobius Version: 1.0.1
- Node.js Version: v20.12.2

## Evidence
- Log file: [B-02_bgg_functionality_test.log](../batch1/logs/B-02_bgg_functionality_test.log)
- Module test: [BGG_endpoint_test.js](../batch1/logs/BGG_endpoint_test.js)

## Root Cause Analysis
The BGG endpoint functionality exists in [src/api/ingest.js](../../src/api/ingest.js) but is not mounted in the main API file [src/api/index.js](../../src/api/index.js). The main API file has its own implementation of the ingest endpoint but does not include the BGG endpoint.

## Remediation Plan
1. Mount the BGG endpoint in the main API file
2. Ensure the BGG endpoint is accessible at `/api/bgg`
3. Test the endpoint functionality through the API interface
4. Update documentation if needed

## Severity
Medium

## Priority
High

## Assigned To
API Development Team

## Status
Resolved

## Related Issues
None

## Additional Context
The BGG functionality works correctly at the module level, as demonstrated by the successful test in [B-02_bgg_functionality_test.log](../batch1/logs/B-02_bgg_functionality_test.log). The issue is purely with the endpoint mounting in the main API.

## Resolution Summary
The BGG endpoint has been successfully mounted in the main API file [src/api/index.js](../../src/api/index.js) by importing the router from [src/api/ingest.js](../../src/api/ingest.js) and mounting it at `/api/ingest`. 

Additionally, a GET endpoint was added to [src/api/ingest.js](../../src/api/ingest.js) to support the required URL parameter format. The endpoint is now accessible at `/api/ingest/bgg?url={bgg_url}` and has been tested successfully with the Catan BGG URL. 

The test results are available in [B-02_bgg_http_test.json](../batch1/logs/B-02_bgg_http_test.json), which shows a successful 200 response with full BGG metadata.

## HTTP Endpoint Verification
- Endpoint: `http://localhost:5001/api/ingest/bgg?url=https://boardgamegeek.com/boardgame/13/catan`
- Status: 200 OK
- Response: Full BGG metadata for Catan
- Evidence: [B-02_bgg_http_test.json](../batch1/logs/B-02_bgg_http_test.json)